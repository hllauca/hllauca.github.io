<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Harold Llauca">
<meta name="dcterms.date" content="2023-06-04">
<meta name="description" content="A brief review about gridded data-sets developed for the Peruvian domain.">

<title>Harold Llauca - Gridded hydro-meteorological data for Peru</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../rocket-takeoff-fill.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/social-share-0.1.0/social-share.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/social-share-0.1.0/all.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Harold Llauca</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">Profile</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publications.html" rel="" target="">
 <span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resources.html" rel="" target="">
 <span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Gridded hydro-meteorological data for Peru</h1>
                  <div>
        <div class="description">
          A brief review about gridded data-sets developed for the Peruvian domain.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Peru</div>
                <div class="quarto-category">Data-Science</div>
                <div class="quarto-category">Hydro-Meteorology</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p><a href="https://hllauca.github.io/">Harold Llauca</a> <a href="https://orcid.org/0000-0001-7462-2548" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 4, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-pisco-product" id="toc-the-pisco-product" class="nav-link active" data-scroll-target="#the-pisco-product">The PISCO product</a></li>
  <li><a href="#the-rain4pe-product" id="toc-the-rain4pe-product" class="nav-link" data-scroll-target="#the-rain4pe-product">The RAIN4PE product</a></li>
  <li><a href="#what-is-the-netcdf-format" id="toc-what-is-the-netcdf-format" class="nav-link" data-scroll-target="#what-is-the-netcdf-format">What is the NetCDF format?</a></li>
  <li><a href="#how-to-access-these-gridded-data-sets" id="toc-how-to-access-these-gridded-data-sets" class="nav-link" data-scroll-target="#how-to-access-these-gridded-data-sets">How to access these gridded data sets?</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Ground hydro-meteorological observations are space-time limited in countries such as Peru. This data scarcity context impulses the use of Satellite Precipitation Products (SPP) in hydrological applications. SPPs provide gridded estimations of meteorological variables such as precipitation and air temperature with high temporal and spatial resolution. However; due to SPP biases, merging of ground information (gauges) and satellite information - using geostatistical techniques - might increase the representation of these variables in the whole country as is shown in the following figure.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="rainfall.png" class="img-fluid figure-img" width="500"></p>
<p></p><figcaption class="figure-caption">Daily rainfall rates [mm/d] for the Peruvian territory from PISCO product.</figcaption><p></p>
</figure>
</div>
<p>Here, we describe gridded data-sets built for the Peruvian territory:<br>
<br>
</p>
<hr>
<section id="the-pisco-product" class="level3">
<h3 class="anchored" data-anchor-id="the-pisco-product">The PISCO product</h3>
<p>The <strong>Peruvian Interpolated data of the SENAMHI’s Climatological and hydrological Observations (PISCO)</strong> is a hydro-meteorological gridded dataset developed for the Peruvian territory by the <strong>National Services of Meteorology and Hydrology of Peru</strong> (<a href="https://www.gob.pe/senamhi">SENAMHI</a>), including trans-boundary catchments with Ecuador and Colombia. PISCO contains sub-products of precipitation (P), air temperature (TA), and evapotranspiration (PE) variables.</p>
<p>The PISCO<sub>P</sub> sub-product is available from 1981 to 2016 (stable 2.1 version) at 0.1° spatial resolution. This precipitation sub-product (Aybar et al., 2020) is generated by using geostatistical and deterministic methods that include three precipitation sources: (a) the quality-controlled national rain gauge dataset, (b) radar-gauge merged precipitation climatologies, and (c) the Climate Hazards Group Infrared Precipitation (CHIRP) estimates, as is shown in the following figure. Also, an unstable version is available from 1981 to the present, and it is daily updated for SENAMHI’s operational purposes.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/piscop_flowchart.png" class="img-fluid figure-img" width="500"></p>
<p></p><figcaption class="figure-caption">Schematic framework of the PISCO<sub>P</sub> sub-product (stable version 2.1). Source: Aybar et al.&nbsp;(2020).</figcaption><p></p>
</figure>
</div>
<p>Similarly, PISCO<sub>TA</sub> version 1.1 (Huerta et al., 2018) is available from 1981 to 2016 at 0.1° spatial resolution, and it is obtained from: a) time series of maximum and minimum air temperature data, (b) a soil temperature product from the MODIS sensor (Moderate Resolution Imaging Spectroradiometer), and (c) geographic predictors (e.g., elevation, longitude, latitude and Topographic Dissection Index). Also, a new PISCO<sub>TA</sub> version 1.2 (Huerta et al., 2023) is now available. This new air temperature version captures complex spatial variability of maximum and minimum air temperature at a more accurate scale compared to the previous version, and it is available from 1981 to 2020 at 0.01° horizontal resolution.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/piscota_flowchart_2.PNG" class="img-fluid figure-img" width="500"></p>
<p></p><figcaption class="figure-caption">Schematic framework of the PISCO<sub>TA</sub> sub-product (version 1.2). Source: Huerta et al.&nbsp;(2023).</figcaption><p></p>
</figure>
</div>
<p>Recently, the new PISCO<sub>PE</sub> sub-product (Huerta et al., 2022) has been generated with the Penman-Monteith equation following the scheme detailed below. Evapotranspiration sub-product is available from 1981 to 2016 at 0.01° spatial resolution. Note that it uses a downscaled version of the PISCO<sub>TA</sub> version 1.1.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/piscota_flowchart.png" class="img-fluid figure-img" width="500"></p>
<p></p><figcaption class="figure-caption">Schematic framework of the PISCOPE sub-product (version1.0). Source: Huerta et al.&nbsp;(2022).</figcaption><p></p>
</figure>
</div>
<p><br>
</p>
<hr>
</section>
<section id="the-rain4pe-product" class="level3">
<h3 class="anchored" data-anchor-id="the-rain4pe-product">The RAIN4PE product</h3>
<p>According to the POTSDAM INSTITUTE FOR CLIMATE IMPACT RESEARCH (<a href="https://www.pik-potsdam.de/en">PIK</a>), RAIN4PE (Fernandez-Palomino et al., 2021) is a novel daily gridded precipitation data set obtained by merging multi-source precipitation data (satellite-based Climate Hazards Group InfraRed Precipitation, CHIRP (Funk et al.&nbsp;2015), reanalysis ERA5 (Hersbach et al.&nbsp;2020), and ground-based precipitation) with terrain elevation using the random forest regression method. Furthermore, RAIN4PE is hydrologically corrected using streamflow data in catchments with precipitation underestimation through reverse hydrology. Hence, RAIN4PE is the only gridded precipitation product for Peru and Ecuador, which benefits from maximum available in-situ observations, multiple precipitation sources, elevation data, and is supplemented by streamflow data to correct the precipitation underestimation over páramos and montane catchments.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/rain4pe_flowchart.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Schematic framework of the RAIN4PE product. Source: Fernandez et al.&nbsp;(2022).</figcaption><p></p>
</figure>
</div>
<p>The RAIN4PE data are available for the terrestrial land surface between 19°S-2°N and 82-67°W, at 0.1° spatial and daily temporal resolution from 1981 to 2015. The precipitation data set is provided in netCDF format.<br>
<br>
</p>
<hr>
</section>
<section id="what-is-the-netcdf-format" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-netcdf-format">What is the NetCDF format?</h3>
<p>The Network Common Data Form (NetCDF) is a format for the storage of multidimensional (variables) scientific data. There are a large number of software and libraries to read netCDF files such as <a href="https://www.giss.nasa.gov/tools/panoply/">Panoply</a> software, the <a href="https://cran.r-project.org/web/packages/ncdf4/ncdf4.pdf">ncdf4</a> R package, or the <a href="https://unidata.github.io/netcdf4-python/">netCDF4</a> package in Python.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.guillaumedueymes.com/courses/tutorial_python_netcdf/1-netcdf_tutorial/"><img src="images/netcdf.png" class="img-fluid figure-img" width="500"></a></p>
<p></p><figcaption class="figure-caption">Structure of a netCDF file. Source: www.guillaumedueymes.com.</figcaption><p></p>
</figure>
</div>
<p>The <strong>PISCO</strong> and <strong>RAIN4PE</strong> data-sets are available in the netCDF format, and consider one variable (precipitation, air temperature, or evapotranspiration) and three dimensions (longitude, latitude and time).<br>
<br>
</p>
<hr>
</section>
<section id="how-to-access-these-gridded-data-sets" class="level3">
<h3 class="anchored" data-anchor-id="how-to-access-these-gridded-data-sets">How to access these gridded data sets?</h3>
<p>These data sets could be downloaded from <a href="https://drive.google.com/drive/folders/1qrV_1bqaeuoXt0vCBTahaRGBFDIOt1vR?usp=sharing">Drive</a>. Filenames follow the format “productname_timevariable_version.nc”, where the timevariable field is described as <strong>d</strong> = daily timestep; <strong>m</strong> = monthly timestep, <strong>pr</strong> = precipitation, <strong>tn</strong> = minimum air temperature, <strong>tx</strong> = maximum air temperature, and <strong>pe</strong> = evapotranspiration.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/GHMDP.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Scheme of current available gridded hydro-meteorological data sets for Peru.</figcaption><p></p>
</figure>
</div>
<p><br>
</p>
<hr>
</section>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<p>Aybar, Cesar, Carlos Fernández, Adrian Huerta, Waldo Lavado, Fiorella Vega, and Oscar Felipe-Obando. 2019. “Construction of a High-Resolution Gridded Rainfall Dataset for Peru from 1981 to the Present Day.” <em>Hydrological Sciences Journal</em> 65 (5): 770–85. <a href="https://doi.org/10.1080/02626667.2019.1649411" class="uri">https://doi.org/10.1080/02626667.2019.1649411</a>.</p>
<p>Fernandez-Palomino, C.A., Hattermann, F.F., Krysanova, V., Lobanova, A., Vega-Jacome, ´ F., Lavado, W., Santini, W., Aybar, C., Bronstert, A., 2021. A novel highresolution gridded precipitation dataset for Peruvian and Ecuadorian watersheds – development and hydrological evaluation. J. Hydrometeorol. 1. <a href="https://doi.%20org/10.1175/jhm-d-20-0285.1">https://doi. org/10.1175/jhm-d-20-0285.1</a>.</p>
<p>Huerta, A.; Aybar, C.; Lavado-Casimiro, W. PISCO temperatura v.1.1. SENAMHI - DHI-2018, Lima-Perú. Available on <a href="http://iridl.ldeo.columbia.edu/documentation/.pisco/.PISCOt_report.pdf" class="uri">http://iridl.ldeo.columbia.edu/documentation/.pisco/.PISCOt_report.pdf</a>.</p>
<p>Huerta, Adrian, Vivien Bonnesoeur, José Cuadros-Adriazola, Leonardo Gutierrez, Boris F. Ochoa-Tocachi, Francisco Román-Dañobeytia, and Waldo Lavado-Casimiro. 2022. “PISCOeo_pm, a Reference Evapotranspiration Gridded Database Based on FAO Penman-Monteith in Peru.” <em>Scientific Data</em> 9 (1). <a href="https://doi.org/10.1038/s41597-022-01373-8" class="uri">https://doi.org/10.1038/s41597-022-01373-8</a>.</p>
<p>Huerta, A., Aybar, C., Imfeld, N., Correa, K., Felipe-Obando, O., Rau, P., Drenkhan, F., &amp; Lavado-Casimiro, W. (2023). High-resolution grids of daily air temperature for Peru - the new PISCOt v1.2 dataset. <em>Scientific Data</em>, <em>10</em>(1), 847. <a href="https://doi.org/10.1038/s41597-023-02777-w" class="uri">https://doi.org/10.1038/s41597-023-02777-w</a></p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{llauca2023,
  author = {Llauca, Harold},
  title = {Gridded Hydro-Meteorological Data for {Peru}},
  date = {2023-06-04},
  url = {https://hllauca.github.io/posts/2023-06-04-quarto-blogs/},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-llauca2023" class="csl-entry quarto-appendix-citeas" role="listitem">
Llauca, Harold. 2023. <span>“Gridded Hydro-Meteorological Data for
Peru.”</span> June 4, 2023. <a href="https://hllauca.github.io/posts/2023-06-04-quarto-blogs/">https://hllauca.github.io/posts/2023-06-04-quarto-blogs/</a>.
</div></div></section></div></main> <!-- /main -->
<script src="https://utteranc.es/client.js" repo="hllauca/hllauca.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<div class="page-columns page-rows-contents page-layout-article"><div class="social-share"><a href="https://twitter.com/share?url=https://hllauca.github.io/posts/2023-06-04-quarto-blogs/&amp;text=Gridded hydro-meteorological data for Peru" target="_blank" class="twitter"><i class="fab fa-twitter fa-fw fa-lg"></i></a><a href="https://www.linkedin.com/shareArticle?url=https://hllauca.github.io/posts/2023-06-04-quarto-blogs/&amp;title=Gridded hydro-meteorological data for Peru" target="_blank" class="linkedin"><i class="fa-brands fa-linkedin-in fa-fw fa-lg"></i></a>  <a href="mailto:?subject=Gridded hydro-meteorological data for Peru&amp;body=Check out this link:https://hllauca.github.io/posts/2023-06-04-quarto-blogs/" target="_blank" class="email"><i class="fa-solid fa-envelope fa-fw fa-lg"></i></a><a href="https://www.facebook.com/sharer.php?u=https://hllauca.github.io/posts/2023-06-04-quarto-blogs/" target="_blank" class="facebook"><i class="fab fa-facebook-f fa-fw fa-lg"></i></a><a href="https://reddit.com/submit?url=https://hllauca.github.io/posts/2023-06-04-quarto-blogs/&amp;title=Gridded hydro-meteorological data for Peru" target="_blank" class="reddit">   <i class="fa-brands fa-reddit-alien fa-fw fa-lg"></i></a></div></div>



</body></html>